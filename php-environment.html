<!DOCTYPE html>
<html lang="pt_br">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">


        <title>Ambiente de desenvolvimento em PHP</title>

            <link href="https://matheusmazoni.com.br/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="MMazoni Blog Full Atom Feed" />
            <link href="https://matheusmazoni.com.br/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="MMazoni Blog Categories Atom Feed" />
        <!-- Bootstrap Core CSS -->
        <link href="https://matheusmazoni.com.br/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="https://matheusmazoni.com.br/theme/css/clean-blog.min.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="https://matheusmazoni.com.br/theme/css/code_blocks/github.css" rel="stylesheet">


        <!-- Custom Fonts -->
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->



        <meta name="description" content="Ambiente de desenvolvimento em PHP no trabalho">

        <meta name="author" content="Matheus Mazoni">

        <meta name="tags" content="php">
        <meta name="tags" content="coding">
        <meta name="tags" content="environment">

	                <meta property="og:locale" content="">
		<meta property="og:site_name" content="MMazoni Blog">

	<meta property="og:type" content="article">
            <meta property="article:author" content="https://matheusmazoni.com.br/author/matheus-mazoni.html">
	<meta property="og:url" content="https://matheusmazoni.com.br/php-environment.html">
	<meta property="og:title" content="Ambiente de desenvolvimento em PHP">
	<meta property="article:published_time" content="2019-12-02 21:12:00-03:00">
            <meta property="og:description" content="Ambiente de desenvolvimento em PHP no trabalho">

            <meta property="og:image" content="https://matheusmazoni.com.br/theme/images/post-bg.jpg">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@mazoni_matheus">
        <meta name="twitter:title" content="Ambiente de desenvolvimento em PHP">

            <meta name="twitter:image" content="https://matheusmazoni.com.br/theme/images/post-bg.jpg">

            <meta name="twitter:description" content="Ambiente de desenvolvimento em PHP no trabalho">
</head>

<body class="article-php-environment">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://matheusmazoni.com.br/">MMazoni Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('https://matheusmazoni.com.br/theme/images/post-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Ambiente de desenvolvimento em PHP</h1>
                        <span class="meta">Posted by
                                <a href="https://matheusmazoni.com.br/author/matheus-mazoni.html">Matheus Mazoni</a>
                             on seg 02 dezembro 2019
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <!-- ## Ambiente Desenvolvimento PHP -->

<p>Antes eu comecei utilizando Windows com o Xampp(Apache, MySQL e PHP), no entanto sou muito fã do Linux, pedi para meu gerente se eu poderia instalar uma distribuição de meu interesse. Ele também gosta de Linux, então ele autorizou sem problemas. Depois da migração, eu vi que não precisava mais do Xampp(uso bem pouco hoje em dia), ainda mais que o PHP e o Laravel conseguem subir um servidor para testar o código.</p>
<p>Agora vou mostrar o ambiente de desenvolvimento que preparei no Ubuntu 19.10 no trabalho.</p>
<h3>1 - Oracle Client (oci8)</h3>
<p>Faça o download de acordo com sua máquina do <a href="https://www.oracle.com/database/technologies/instant-client/linux-x86-64-downloads.html">Oracle Instant Client</a> dos arquivos que tiver <code>basic</code> e <code>sdk</code>.</p>
<ul>
<li>Arquivos de exemplo do linux x64: <em>instantclient-basic-linux.x64-19.3.0.0.0dbru.zip</em> e <em>instantclient-sdk-linux.x64-19.3.0.0.0dbru.zip</em></li>
</ul>
<p>Na pasta <em>Downloads</em>:</p>
<div class="highlight"><pre><span></span><code>mkdir oracle
mv instantclient-basic-linux.x64-19.3.0.0.0dbru.zip oracle/
mv instantclient-sdk-linux.x64-19.3.0.0.0dbru.zip oracle/
<span class="nb">cd</span> oracle
unzip instantclient-basic-linux.x64-19.3.0.0.0dbru.zip
unzip instantclient-sdk-linux.x64-19.3.0.0.0dbru.zip
<span class="nb">cd</span> ..
sudo mv oracle /opt/
</code></pre></div>


<p>Adicione a pasta ao <strong>ldconfig</strong> e use o comando.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/oracle/instantclient_19_3
sudo sh -c <span class="s2">&quot;echo /opt/oracle/instantclient_19_3 &gt; /etc/ld.so.conf.d/oracle-instantclient.conf&quot;</span>
sudo ldconfig
</code></pre></div>


<p>Utilizamos o banco Oracle e precisamos da extensão <code>oci8</code> no PHP, iremos ativar na compilação dele.</p>
<h3>2 - PHP (7.3.12)</h3>
<p>Há duas formas mais comuns de instalar o PHP no Linux, usar os comandos no terminal e usar a versão do repositório ou compilar o código fonte. Eu prefiro compilar pois eu consigo ter controle de todas as extensões que estou instalando.</p>
<p>Instale as dependências</p>
<div class="highlight"><pre><span></span><code>sudo apt install autoconf automake bison build-essential curl flex <span class="se">\</span>
    libtool libssl-dev libcurl4-openssl-dev libxml2-dev libonig-dev <span class="se">\</span>
    libreadline-dev libsqlite3-dev libzip-dev nginx openssl <span class="se">\</span>
    pkg-config re2c sqlite3 zlib1g-dev
</code></pre></div>


<p><a href="https://www.php.net/downloads.php">Baixe o PHP</a>. Lembrando que utilizei a versão 7.3. Descompacte e entre no diretório pelo terminal.</p>
<p>Crie um diretório para separar de outras versões do PHP e compile</p>
<div class="highlight"><pre><span></span><code>mkdir  ~/php7.3/

./configure --prefix<span class="o">=</span><span class="nv">$HOME</span>/php7.3 <span class="se">\</span>
    --enable-mysqlnd <span class="se">\</span>
    --with-pdo-mysql <span class="se">\</span>
    --with-pdo-mysql<span class="o">=</span>mysqlnd <span class="se">\</span>
    --with-mysqli<span class="o">=</span>mysqlnd <span class="se">\</span>
    --enable-bcmath <span class="se">\</span>
    --enable-fpm <span class="se">\</span>
    --with-fpm-user<span class="o">=</span>www-data <span class="se">\</span>
    --with-fpm-group<span class="o">=</span>www-data <span class="se">\</span>
    --enable-mbstring <span class="se">\</span>
    --enable-phpdbg <span class="se">\</span>
    --enable-shmop <span class="se">\</span>
    --enable-sockets <span class="se">\</span>
    --enable-sysvmsg <span class="se">\</span>
    --enable-sysvsem <span class="se">\</span>
    --enable-sysvshm <span class="se">\</span>
    --enable-zip <span class="se">\</span>
    --with-libzip<span class="o">=</span>/usr/lib/x86_64-linux-gnu <span class="se">\</span>
    --with-zlib <span class="se">\</span>
    --with-curl <span class="se">\</span>
    --with-pear <span class="se">\</span>
    --with-openssl <span class="se">\</span>
    --enable-pcntl <span class="se">\</span>
    --with-readline <span class="se">\</span>
    --with-pdo-sqlite <span class="se">\</span>
    --with-oci8<span class="o">=</span>instantclient,/opt/oracle/instantclient_19_3

make
sudo make install
</code></pre></div>


<ol>
<li>Agora, algumas modificações para tudo dar certo.</li>
</ol>
<div class="highlight"><pre><span></span><code>cp php.ini-development ~/php7.3/lib/php.ini
<span class="nb">cd</span> ~/php7.3/etc/
mv php-fpm.conf.default php-fpm.conf
mv php-fpm.d/www.conf.default php-fpm.d/www.conf
</code></pre></div>


<p>Adicione a caminho ~/php7.3/bin <a href="https://gist.github.com/nex3/c395b2f8fd4b02068be37c961301caa7">para a variável $PATH</a></p>
<p>Para testar se o PHP está funcionando.</p>
<div class="highlight"><pre><span></span><code><span class="err">php --version</span>
</code></pre></div>


<p>O output:</p>
<div class="highlight"><pre><span></span><code><span class="err">PHP 7.3.12 (cli) (built: Dec 02 2019 20:55:45) ( NTS )</span>
<span class="err">Copyright (c) 1997-2019 The PHP Group</span>
<span class="err">Zend Engine v3.3.11, Copyright (c) 1998-2019 Zend Technologies</span>
</code></pre></div>


<h2>3 - Composer - Gerenciador de pacotes do PHP</h2>
<p>A partir daqui iremos instalar os requisitos para  o <strong>Laravel</strong>, o composer é um deles.</p>
<p>Apenas rode os comandos abaixo para instalar o composer, tirado diretamento do <a href="https://getcomposer.org">site oficial</a>.</p>
<div class="highlight"><pre><span></span><code><span class="x">php -r &quot;copy(&#39;https://getcomposer.org/installer&#39;, &#39;composer-setup.php&#39;);&quot;</span>
<span class="x">php -r &quot;if (hash_file(&#39;sha384&#39;, &#39;composer-setup.php&#39;) === &#39;a5c698ffe4b8e849a443b120cd5ba38043260d5c4023dbf93e1558871f1f07f58274fc6f4c93bcfd858c6bd0775cd8d1&#39;) { echo &#39;Installer verified&#39;; } else { echo &#39;Installer corrupt&#39;; unlink(&#39;composer-setup.php&#39;); } echo PHP_EOL;&quot;</span>
<span class="x">php composer-setup.php</span>
<span class="x">php -r &quot;unlink(&#39;composer-setup.php&#39;);&quot;</span>
</code></pre></div>


<p>Agora precisamos mover o arquivo <code>composer.phar</code> para a pasta de binários do sistema(irei renomear para apenas 'composer').</p>
<div class="highlight"><pre><span></span><code>sudo mv composer.phar /usr/bin/composer
</code></pre></div>


<p>Digite 'composer --version' e o output será parecido com esse:</p>
<div class="highlight"><pre><span></span><code><span class="err">Composer version 1.9.0 2019-08-02 20:55:32</span>
</code></pre></div>


<h2>4 - Node-js e NPM</h2>
<p>Instalei o <code>node</code> e o <code>npm</code> pelo pelo próprio repositório do Ubuntu, mas você também pode instalar uma versão mais recente pelo <a href="https://nodejs.org/en/">site oficial</a>.</p>
<div class="highlight"><pre><span></span><code>sudo apt install nodejs nodejs-dev node-gyp libssl1.0-dev npm
</code></pre></div>


<p>Para confirmar:</p>
<div class="highlight"><pre><span></span><code>nodejs -v
npm -v
</code></pre></div>


<p>Se apareceu o número da versão, está tudo certo.</p>
<h2>5 - Laravel</h2>
<p>Utilize o comando abaixo para o composer instalar o Laravel e depois adicionar no $PATH</p>
<div class="highlight"><pre><span></span><code>composer global require laravel/installer
<span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;PATH:/$HOME/.config/composer/vendor/bin/&quot;&#39;</span> <span class="p">|</span> sudo tee -a ~/.bashrc
</code></pre></div>


<h2>6 - Oracle SQL Developer</h2>
<p>Um dos pré-requisitos é a instalação do Java 8 para cima, recomendo que instale o <a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java da Oracle</a>, pois o OpenJDK não é o suficiente, sendo necessário a instalação de mais bibliotecas por fora para o SQL Developer funcionar corretamente.</p>
<p>Para instalá-lo, apenas baixe o jdk-8 no formato ´tar.gz´ e extraia para a pasta /opt/jdk.</p>
<div class="highlight"><pre><span></span><code>sudo mkdir  -p /opt/jdk
sudo cp -rf /<span class="nv">$HOME</span>/Downloads/jdk-8u231-linux-x64.tar.gz /opt/jdk/
<span class="nb">cd</span> /opt/jdk/
sudo tar -zxf jdk-8u231-linux-x64.tar.gz
</code></pre></div>


<p>Com o java instalado, agora vamos baixar o <a href="https://www.oracle.com/tools/downloads/sqldev-v192-downloads.html">SQL Developer</a>. Utilizei o "Other Platforms".</p>
<p>Extraia o zip baixado e siga os passos abaixo para a instalação:</p>
<div class="highlight"><pre><span></span><code>sudo unzip /<span class="nv">$HOME</span>/Downloads/sqldeveloper-*-no-jre.zip -d /opt/
sudo chmod +x /opt/sqldeveloper/sqldeveloper.sh
sudo ln -s /opt/sqldeveloper/sqldeveloper.sh /usr/local/bin/sqldeveloper
</code></pre></div>


<p>Edite o script /opt/sqldeveloper/sqldeveloper.sh por:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">unset</span> -v GNOME_DESKTOP_SESSION_ID
<span class="nb">cd</span> /opt/sqldeveloper/sqldeveloper/bin
./sqldeveloper <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span>
</code></pre></div>


<p>Quando você executar o SQL Developer, vai ser necessário colocar o caminho da pasta do Java, irei colocar o meu como exemplo:</p>
<div class="highlight"><pre><span></span><code><span class="n">sqldeveloper</span>

<span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">jdk</span><span class="o">/</span><span class="n">jdk1</span><span class="p">.</span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="n">_231</span><span class="o">/</span>
</code></pre></div>


<p>Com isso finaliza a instalação do meu ambiente de desenvolvimento com PHP no trabalho. Há alguns programas adicionais utilizados por mim, acho bom apenas citar, que são:</p>
<ul>
<li><code>Visual Studio Code</code> - meu editor de código favorito no momento</li>
<li><code>Postman</code> - para testar as APIs feitas com Lumen</li>
<li><code>Filezilla</code> - um cliente open-source para gerenciar transferência FTP</li>
</ul>
    </article>

        <div class="tags">
            <p>tags: <a href="https://matheusmazoni.com.br/tag/php.html">php</a>, <a href="https://matheusmazoni.com.br/tag/coding.html">coding</a>, <a href="https://matheusmazoni.com.br/tag/environment.html">environment</a></p>
        </div>

    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                            <li>
                                <a href="https://www.linkedin.com/in/matheus-mazoni/">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://twitter.com/mazoni_matheus">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/MMazoni">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="https://www.instagram.com/mazoni.matheus">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li>
                                <a href="mailto:mmazoni.andrade@gmail.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                    </ul>
<p class="copyright text-muted">
    Blog powered by <a href="http://getpelican.com">Pelican</a>,
    which takes great advantage of <a href="http://python.org">Python</a>. <br />        &copy;  Matheus Mazoni
</p>                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="https://matheusmazoni.com.br/theme/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://matheusmazoni.com.br/theme/js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="https://matheusmazoni.com.br/theme/js/clean-blog.min.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-140012978-1', 'auto');
    ga('send', 'pageview');
</script>
</body>

</html>